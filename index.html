<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/bf4b3a2bf1.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="icon" href="img/icon.ico">
    <script defer src="js/main.js"></script>
    <script defer src="js/rank.js"></script>
    <title>MAndMs</title>
</head>
<body>
    <header>
        <div class="navbar-menu">
            <ul>
                <li id="music">음악</li>
                <li id="search">검색하기</li>
                <li id="list">게시판</li>
                <a href="guide_main.html" style="color: #181818"><li id="guide">이용가이드</li></a>
            </ul>
        </div>
    </header>

    <figure>
        <section>

            <article>
                <!-- main img -->
                <div class="inner" id="main">
                    <div class="pic" style="background-image: url('img/circle1.svg');">
                        <div class="dot"></div>
                    </div>
                    <!-- icon -->
                    <div class="buttons">
                        <div id="backward">
                            <i class="fa-solid fa-backward-step fa-xl" style="color: #dfcc9a;"></i>
                        </div>
                        <div id="play">
                            <i class="fa-solid fa-play fa-xl" style="color: #dfcc9a;"></i>
                        </div>
                        <div id="forward">
                            <i class="fa-solid fa-forward-step fa-xl" style="color: #dfcc9a;"></i>
                        </div>
                    </div>
                    <!-- 음악 재생 -->
                    <audio src="music/omg.mp3" autoplay></audio>
                </div>
            </article>

            <article>
                <div class="inner" id="music_search">
                    <div class="image">
                        <a href="search.html"><img src="img\mnmz_logo.svg" alt="mnmz_logo"></a>
                    </div>
                    <form class="searchForm">
                        <a href="search.html" target="_top">
                            <input id="search_bar" type="text" class="searchField" placeholder="     원하는 노래를 검색해주세요." onfocus="this.placeholder = ' '"onblur="this.placeholder = '     원하는 노래를 검색해주세요.'">
                            <i class="fa-solid fa-magnifying-glass fa-2xl" style="color: #d8d8d8;"></i>
                        </a>
                    </form>
                </div>
            </article>
            <article>
                <div class="inner" id="articles">
                    <div id="top_wrapper">
                        <div class="chart_field" id="chart_field">
                            <div id="rank_1">
                                <span class="rank">1위</span>
                                <span class="music_info">ditto - 뉴진스</span>
                            </div>
                            <div id="rank_2">
                                <span class="rank">2위</span>
                                <span class="music_info">unforgiven - 르세라핌</span>
                            </div>
                            <div id="rank_3">
                                <span class="rank">3위</span>
                                <span class="music_info">candy - NCT Dream</span>
                            </div>
                            <div id="rank_4">
                                <span class="rank">4위</span>
                                <span class="music_info">에이틴 - 세븐틴</span>
                            </div>
                            <div id="rank_5">
                                <span class="rank">5위</span>
                                <span class="music_info">와르르 - 콜드</span>
                            </div>
                        </div>
                        <select id="emoji_select">
                            <option value="all">전체</option>
                            <option value="1" data-image="img\emoji1.svg">즐거움</option>
                            <option value="2" data-image="img\emoji1.svg">사랑에빠진</option>
                            <option value="3" data-image="img\emoji1.svg">보통</option>
                            <option value="4" data-image="img\emoji1.svg">슬픔</option>
                            <option value="5" data-image="img\emoji1.svg">죽음</option>
                        </select>
                    </div>

                    <div id="bottom_wrapper" onload="showAllPost()">
                        <!-- php  -->
                    </div>
            </article>
            <article>
                <div class="inner">
                </div>
            </article>
        </section>
        <div class="btnLeft">
            <span style="font-size: 1vw;">이전</span>
        </div>
        <div class="btnRight">
            <span style="font-size: 1vw;">다음</span>
        </div>
        
        <div class="guide">
            <a href="introduction.html" target="_blank">
                <i class="fa-solid fa-info fa-2xl" style="color: #adadad; font-size: 1.8vw;"></i>
            </a>
        </div>
    </figure>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/showAllPost.js"></script>
    <script>
        $(document).ready(function() {
            $.ajax({
                url: 'showAllpost.php',
                success: function(data) {
                $('#bottom_wrapper').html(data);
                }
            });
            });
    </script>
    <!-- <script>
        $(document).ready(function() {
            $.ajax({
                url: 'rank.php',
                success: function(data) {
                $('#chart_field').html(data);
                }
            });
            });
    </script> -->
<script>

// var getPosts = function() {
//     var selectedEmotion = this.value; // 선택한 감정 값
//     if(selectedEmotion == undefined){
//         selectedEmotion = 'all';
//     }

//     // AJAX 요청
//     var xhr = new XMLHttpRequest();
//     xhr.open("POST", "get_posts.php", true);
//     xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
//     xhr.onreadystatechange = function() {
//         if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
//             // 서버에서 받은 결과를 화면에 출력
//             document.getElementById("bottom_wrapper").innerHTML = xhr.responseText;
//         }
//     };
//     xhr.send("emotion=" + selectedEmotion);
//     //alert(selectedEmotion);
// }
// // 감정 선택 시 이벤트 처리
// document.getElementById("emoji_select").addEventListener("change", getPosts);

</script>
</body>
</html>